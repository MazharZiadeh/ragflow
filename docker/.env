# =============================================================================
# RAGFlow Environment Configuration for NVIDIA DGX
# Service hostnames MUST match docker-compose service names exactly
# =============================================================================

# =============================================================================
# COMPOSE PROFILES - Enable GPU and Elasticsearch
# =============================================================================
COMPOSE_PROFILES=gpu,elasticsearch

# =============================================================================
# DOCUMENT ENGINE
# =============================================================================
DOC_ENGINE=elasticsearch
DEVICE=gpu

# =============================================================================
# DOCLING CONFIGURATION
# =============================================================================
USE_DOCLING=false
DOCLING_VERSION==2.58.0
# Note: IndexError on complex PDFs is fixed via code patch in docling_parser.py

# =============================================================================
# ELASTICSEARCH - Service name: es01
# =============================================================================
STACK_VERSION=8.11.3
ES_HOST=es01
ES_PORT=1200
ELASTIC_PASSWORD=hUS6ceInEWEPVFMbDzZlCDYq3tAHyTAt04tUoRXBU0k

# =============================================================================
# MEMORY & PERFORMANCE - 16GB limit
# =============================================================================
MEM_LIMIT=17179869184
DOC_BULK_SIZE=4
EMBEDDING_BATCH_SIZE=16
THREAD_POOL_MAX_WORKERS=128

# =============================================================================
# MYSQL - Service name: mysql
# =============================================================================
MYSQL_HOST=mysql
MYSQL_DBNAME=rag_flow
MYSQL_USER=root
MYSQL_PASSWORD=WSWbLIIAKYCZlpDSryipbnp3NWmJ_NKrS73F1KYQh7k
MYSQL_PORT=5455
MYSQL_MAX_PACKET=1073741824

# =============================================================================
# MINIO (Object Storage) - Service name: minio
# =============================================================================
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_USER=rag_flow
MINIO_PASSWORD=g3cd1DipWZGgknc6H19sZP6bdKnhVudopGcHdSfxwBI

# =============================================================================
# REDIS - Service name: redis
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=6vMdIAFBdU6HVxtTK6-0_Q___2Y3c9nYmwPVt9F7cAY

# =============================================================================
# RAGFLOW HTTP PORTS
# =============================================================================
SVR_WEB_HTTP_PORT=80
SVR_WEB_HTTPS_PORT=443
SVR_HTTP_PORT=9380
ADMIN_SVR_HTTP_PORT=9381
SVR_MCP_PORT=9382

# =============================================================================
# DOCKER IMAGES
# =============================================================================
RAGFLOW_IMAGE=infiniflow/ragflow:nightly

TEI_IMAGE_GPU=ghcr.io/huggingface/text-embeddings-inference:cpu-arm64

# =============================================================================
# EMBEDDING SERVICE - Service name: tei
# =============================================================================
TEI_MODEL=Qwen/Qwen3-Embedding-0.6B
TEI_HOST=tei
TEI_PORT=6380

# =============================================================================
# TIMEZONE & MISC
# =============================================================================
RAGFLOW_SECRET_KEY=8Q0dcUb_82XbFvyxxGNnq7qXoqnziGB3uNMoY_Ts6LA
CORS_ORIGIN=
TZ=Asia/Shanghai
REGISTER_ENABLED=1
DOTNET_SYSTEM_GLOBALIZATION_INVARIANT=1

# =============================================================================
# HUGGING FACE MIRROR (uncomment if behind firewall)
# =============================================================================
# HF_ENDPOINT=https://hf-mirror.com
